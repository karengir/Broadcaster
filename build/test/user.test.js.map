{"version":3,"sources":["../../server/test/user.test.js"],"names":["chai","use","chaiHttp","should","tok","tok2","user","firstname","lastname","email","phoneNumber","username","password","logUser","redflag","title","type","comment","location","status","redflag2","describe","it","done","request","app","post","send","end","err","res","have","body","property","be","a","an","users","push","get","set","patch","data"],"mappings":"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","sourcesContent":["import chai from \"chai\";\r\nimport chaiHttp from \"chai-http\";\r\nimport users from \"../models/users\";\r\nimport app from \"../app\";\r\nimport MakeToken from \"../helper/tokenGen\";\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\nconst tok = MakeToken(\"kgiramata%7@gmail.com\");\r\nconst tok2 = MakeToken(\"kgiramata57@gmail.com\", \"1\");\r\n\r\nconst user = {\r\n  firstname: \"Giramata\",\r\n  lastname: \"Karen\",\r\n  email: \"kgiramata%7@gmail.com\",\r\n  phoneNumber: \"078888\",\r\n  username: \"gkar\",\r\n  password: \"1234567\"\r\n};\r\n\r\nconst logUser = {\r\n  email: \"kgiramata%7@gmail.com\",\r\n  password: \"1234567\"\r\n};\r\n\r\nconst redflag = {\r\n  title: \"robbery\",\r\n  type: \"red-flag\",\r\n  comment: \"Urgent\",\r\n  location: \"KG 30 ST 5\",\r\n  status: \"yet to be resolved\"\r\n};\r\n\r\nconst redflag2 = {\r\n  title: \"\",\r\n  type: \"red-flag\",\r\n  comment: \"Urgent\",\r\n  location: \"KG 30 ST 5\",\r\n  status: \"yet to be resolved\"\r\n};\r\n\r\ndescribe(\"sign Up tests\", () => {\r\n  it(\"user should be able to create an account\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signup\")\r\n      .send(user)\r\n      .end((err, res) => {\r\n        res.should.have.status(201);\r\n        res.body.should.have.property(\"message\", \"User successfully created\");\r\n        res.body.should.be.a(\"object\");\r\n\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to create account when invalid firstname\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signup\")\r\n      .send({\r\n        firstname: \"\",\r\n        lastname: \"Karen\",\r\n        email: \"kgiramata%7@gmail\",\r\n        phoneNumber: \"078888\",\r\n        username: \"gkar\",\r\n        password: \"1234567\"\r\n      })\r\n      .end((err, res) => {\r\n        res.should.have.status(400);\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to create account when email already exists\", done => {\r\n    users.push(user);\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signup\")\r\n      .send(user)\r\n      .end((err, res) => {\r\n        res.should.have.status(409);\r\n        res.body.should.have.property(\"message\", \"user already exists\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\ndescribe(\"sign in tests\", () => {\r\n  it(\"user should be able to log into their account\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signin\")\r\n      .send(logUser)\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.have.property(\"message\", \"User successfully logged in\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to log in when password is incorrect\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signin\")\r\n      .send({\r\n        email: \"kgiramata%7@gmail.com\",\r\n        password: \"123490\"\r\n      })\r\n      .end((err, res) => {\r\n        res.should.have.status(401);\r\n        res.body.should.have.property(\"error\", \"Password or email is incorrect\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to log in when invalid email\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signin\")\r\n      .send({\r\n        email: \" \",\r\n        password: \"1234567\"\r\n      })\r\n      .end((err, res) => {\r\n        res.should.have.status(400);\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to log in when email does not exist\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/auth/signin\")\r\n      .send({\r\n        email: \"kgiramata@gmail.com\",\r\n        password: \"1234567\"\r\n      })\r\n      .end((err, res) => {\r\n        res.should.have.status(404);\r\n        res.body.should.have.property(\"error\", \"Password or email is incorrect\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\ndescribe(\"first page test\", () => {\r\n  it(\"welcome page\", done => {\r\n    chai\r\n      .request(app)\r\n      .get(\"/\")\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.have.property(\"message\", \"Broadcaster project\");\r\n        res.body.should.be.a(\"object\");\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\ndescribe(\" record tests\", () => {\r\n  it(\"user should be able to create a record\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/red-flags/\")\r\n      .set(\"token\", tok)\r\n      .send(redflag)\r\n      .end((err, res) => {\r\n        res.should.have.status(201);\r\n        res.body.should.have.property(\"message\", \"record created successfully\");\r\n        res.body.should.be.a(\"object\");\r\n        done();\r\n      });\r\n  });\r\n  it(\"user should not be able to create a record when invalid title\", done => {\r\n    chai\r\n      .request(app)\r\n      .post(\"/api/v1/red-flags/\")\r\n      .set(\"token\", tok)\r\n      .send(redflag2)\r\n      .end((err, res) => {\r\n        res.should.have.status(400);\r\n        res.body.should.have.property(\r\n          \"error\",\r\n          '\"title\" is not allowed to be empty'\r\n        );\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should be able to view all red-flags\", done => {\r\n    chai\r\n      .request(app)\r\n      .get(\"/api/v1/red-flags/red-flags\")\r\n      .send(redflag)\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should be able to view one specific red-flag\", done => {\r\n    chai\r\n      .request(app)\r\n      .get(\"/api/v1/red-flags/1\")\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to view a specific red-flag if id does not exist\", done => {\r\n    chai\r\n      .request(app)\r\n      .get(\"/api/v1/red-flags/2\")\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(404);\r\n        res.body.should.have.property(\"message\", \"Record not found\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should be able to edit the location of a record they created\", done => {\r\n    chai\r\n      .request(app)\r\n      .patch(\"/api/v1/red-flags/1/location\")\r\n      .set(\"token\", tok)\r\n      .send({ location: \"dsfasdfa\" })\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.should.have.property(\r\n          \"message\",\r\n          \"Updated red-flag record’s location\"\r\n        );\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to edit the location of a record they did not create\", done => {\r\n    chai\r\n      .request(app)\r\n      .patch(\"/api/v1/red-flags/1/location\")\r\n      .set(\"token\", tok2)\r\n      .send({ location: \"dsfasdfa\" })\r\n      .end((err, res) => {\r\n        res.should.have.status(400);\r\n        res.body.should.have.property(\r\n          \"message\",\r\n          \"cannot edit article you did not create\"\r\n        );\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to edit the location of a record that does not exist\", done => {\r\n    chai\r\n      .request(app)\r\n      .patch(\"/api/v1/red-flags/2/location\")\r\n      .set(\"token\", tok)\r\n      .send({ location: \"dsfasdfa\" })\r\n      .end((err, res) => {\r\n        res.should.have.status(404);\r\n        res.body.should.have.property(\"message\", \"Article not found\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to delete a record that does not exist\", done => {\r\n    chai\r\n      .request(app)\r\n      .delete(\"/api/v1/red-flags/2\")\r\n      .set(\"token\", tok)\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(404);\r\n        res.body.should.have.property(\"error\", \"No record found\");\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should not be able to delete a record they did not create\", done => {\r\n    chai\r\n      .request(app)\r\n      .delete(\"/api/v1/red-flags/1\")\r\n      .set(\"token\", tok2)\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(400);\r\n        res.body.should.have.property(\r\n          \"error\",\r\n          \"cannot delete record you did not create\"\r\n        );\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n\r\n  it(\"user should be able to delete a record they created\", done => {\r\n    chai\r\n      .request(app)\r\n      .delete(\"/api/v1/red-flags/1\")\r\n      .set(\"token\", tok)\r\n      .send()\r\n      .end((err, res) => {\r\n        res.should.have.status(200);\r\n        res.body.data.should.have.property(\r\n          \"message\",\r\n          \"red-flag record has been deleted\"\r\n        );\r\n        res.body.should.be.an(\"object\");\r\n        done();\r\n      });\r\n  });\r\n});\r\n"],"file":"user.test.js"}